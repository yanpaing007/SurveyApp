<div th:fragment="none-editable-input(label,field,name,iconClass,disabled,notEditable)" class="flex flex-col gap-y-1">
  <label th:for="${name}" th:text="${label}"
         class="text-xs font-light">
  </label>
  <div class="relative">
    <div class="left-3 top-1/2 -translate-y-1/2 absolute">
      <i th:class="${iconClass}"></i>
    </div>
    <input
            th:value="${field}"
            type="text"
            th:name="${name}"
            class="focus:outline-none border border-gray-200 rounded-lg text-sm w-full ps-8 py-2.5"
            th:classappend="${disabled} ? 'bg-gray-50' : ''"
            th:disabled="${disabled}"
            th:readonly="${disabled}"
            th:id="${name}"
    >
    <div th:if="${notEditable}">
      <div th:id="'tooltip-'+${name}"
           class="absolute -top-8 right-0 bg-black text-white text-xs px-2 py-1 rounded opacity-0 transition-opacity">
        Copied!
      </div>
      <div class="absolute right-2 top-1/2 -translate-y-1/2 text-red-400 group">
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil-off-icon lucide-pencil-off"><path d="m10 10-6.157 6.162a2 2 0 0 0-.5.833l-1.322 4.36a.5.5 0 0 0 .622.624l4.358-1.323a2 2 0 0 0 .83-.5L14 13.982"/><path d="m12.829 7.172 4.359-4.346a1 1 0 1 1 3.986 3.986l-4.353 4.353"/><path d="m15 5 4 4"/><path d="m2 2 20 20"/></svg>
        <div class="absolute -top-8 right-1/2 translate-x-1/2 bg-black text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10">
          Non Editable Field
        </div>
      </div>
      <div
           class="absolute top-1/2 -translate-y-1/2 right-8 flex items-center cursor-pointer z-10 copyButton"
           th:id="'copy-btn-'+${name}"
           >
        <i class="fa-solid fa-copy text-gray-600"></i>
      </div>
    </div>

  </div>
  <script th:inline="javascript">
    /*<![CDATA[*/
    (function () {
      const name = [[${name}]];
      const copyBtn = document.querySelector('#copy-btn-' + name);
      const tooltip = document.querySelector('#tooltip-' + name);
      const input = document.querySelector('#' + name);

      if (copyBtn && tooltip && input) {
        copyBtn.addEventListener('click', () => {
          navigator.clipboard.writeText(input.value).then(() => {
            tooltip.classList.remove('opacity-0');
            tooltip.classList.add('opacity-100');
            setTimeout(() => {
              tooltip.classList.remove('opacity-100');
              tooltip.classList.add('opacity-0');
            }, 1500);
          }).catch(err => {
            console.error('Failed to copy: ', err);
          });
        });
      }
    })();
    /*]]>*/
  </script>
</div>



